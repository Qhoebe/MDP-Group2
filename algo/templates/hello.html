<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Default Grid Display</title>
    <style>
        /* Optional: Add some styling to make it visually appealing */
        table {
            border-collapse: collapse;
            margin: 20px;
        }

        td {
            width: 20px;
            height: 20px;
            border: 1px solid black;
            text-align: center;
        }
    </style>
</head>
<body>

    <!-- Table to display the default grid -->
    <table id="defaultGridTable"></table>

    <script>

default_robot = {'x':1,'y':1,'d':0,'s':-1}
robot = {'x':1,'y':1,'d':0,'s':-1}
Direction = {
  "NORTH": 0,
  "EAST": 2,
  "SOUTH": 4,
  "WEST": 6,
  "SKIP": 8,
}

        
        function default_grid() {
            let rows = [];
            for (var i = 19; i >= 0; i--) {
                rows.push('<tr>');
                rows.push('<td>' + i + '</td>');
                for (var j = 0; j <= 19; j++) {
                    rows.push('<td style="border: 1px solid black;"> </td>');
                }
                rows.push('</tr>');
            }
            rows.push('<tr>');
            rows.push('<td></td>');
            for (var k = 0; k <= 19; k++) {
                rows.push('<td>' + k + '</td>');
            }
            rows.push('</tr>');
            return rows;
        }


        function transformCoord(x, y) {
            // Change the coordinate system from (0, 0) at top left to (0, 0) at bottom left
            return { x: 19 - y, y: x };
        }

        function generateRobotCells()
        {
            const robotCells = [];
            let markerX = 0;
            let markerY = 0;

            if (Number(robot.d) === Direction.NORTH){
                markerY++;
            } else if (Number(robot.d) === Direction.EAST){
                markerX++;
            } else if (Number(robot.d) === Direction.SOUTH){
                markerY--;
            } else if (Number(robot.d) === Direction.WEST){
                markerX--;
            }

            // Go from i = -1 to i = 1
            for (let i = -1; i < 2; i++)
            {
                // Go from j = -1 to j = 1
                {
                    for (let j = -1; j < 2; j++)
                    {
                        // Transform the coordinates to our coordinate system where (0, 0) is at the bottom left
                        const coord = transformCoord(robot.x + i, robot.y + j);
                        // If the cell is the marker cell, add the robot state to the cell
                        if (markerX === i && markerY === j)
                        {
                            robotCells.push({
                                x: coord.x,
                                y: coord.y,
                                d: robot.d,
                                s: robot.s,
                            });
                        } 
                        else 
                        {
                            robotCells.push({
                                x: coord.x,
                                y: coord.y,
                                d: null,
                                s: -1
                            });
                        }

                        }
                    }
                }

                return robotCells
        }

        
        function displayDefaultGrid() {
        const defaultGridTable = document.getElementById("defaultGridTable");
        const rows = default_grid();

        // Append the robot cells to the rows
        const robotCells = generateRobotCells();
        for (let l = 0; l < robotCells.length; l++) {
            const cell = robotCells[l];
            const index = (19 - cell.y) * 23 + cell.x + 2;
            rows[index] = '<td style="background-color: yellow;"></td>';
        }

        defaultGridTable.innerHTML = rows.join('');
    }

        // Call the displayDefaultGrid function when the page loads
        window.onload = displayDefaultGrid;

        


    </script>



</body>
</html>

